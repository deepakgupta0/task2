"use strict";(self.webpackChunkinvoice_tool=self.webpackChunkinvoice_tool||[]).push([[213],{213:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var a=n(43),l=n(401),o=n(883),s=n(844),d=n(216),r=n(579);const c=()=>{const e=(0,d.Zp)(),{dispatch:t}=(0,a.useContext)(o.N),[n,c]=(0,a.useState)(1),[i,u]=(0,a.useState)((()=>{let e={};return s.Yo.forEach((t=>{console.log(t),t.children.forEach((t=>{e[t.name]=t.value}))})),e}));let[m,h]=(0,a.useState)("");const p=e=>{const{name:t,value:n}=e.target;u({...i,[t]:n})},x=(e,t)=>{const n=e.component;return(0,r.jsxs)(a.Fragment,{children:[(0,r.jsxs)("h2",{className:"text-2xl font-bold mb-4",children:["Step ",t+1,": ",e.stepName]}),(0,r.jsx)(r.Fragment,{children:t!==s.Yo.length-1?e.children.map(((e,t)=>((e,t)=>"input"===e.tag&&"text"===e.type?(0,r.jsx)("input",{name:e.name,type:e.type,placeholder:e.placeholder,id:e.id,value:i[e.name],onChange:p,className:"w-full mb-4 p-2 bg-gray-700 rounded"},t):"textarea"===e.tag?(0,r.jsx)("textarea",{name:e.name,type:e.type,placeholder:e.placeholder,id:e.id,value:i[e.name],onChange:p,className:"w-full mb-4 p-2 bg-gray-700 rounded"},t):"input"===e.tag&&"date"===e.type?(0,r.jsx)("input",{name:e.name,type:e.type,placeholder:e.placeholder,id:e.id,value:i[e.name],onChange:p,className:"w-full mb-4 p-2 bg-gray-700 rounded"},t):void 0)(e,t))):(0,r.jsx)(n,{formData:i})})]},t)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{className:"text-center font-bold text-3xl mb-4",children:"Create Invoice"}),(0,r.jsxs)("div",{className:"p-6 bg-gray-800 text-white max-w-md mx-auto md:rounded-md md:shadow-md",children:[s.Yo.map(((e,t)=>t===n-1?x(e,t):null)),m&&(0,r.jsx)("div",{className:"text-red-700 font-bold mb-4",children:m}),(0,r.jsxs)("div",{className:"flex justify-between",children:[n>1&&(0,r.jsx)("button",{onClick:()=>c(n-1),className:"bg-gray-500 hover:bg-gray-400 text-white font-bold py-2 px-4 rounded",children:"Back"}),n===s.Yo.length?(0,r.jsx)("button",{onClick:()=>{t({type:"ADD_INVOICE",payload:i}),c(1),u({name:"",address:"",date:"",amount:"",details:""}),l.oR.success("Invoice Created Successfully",{position:"bottom-right",closeOnClick:!0,pauseOnHover:!1}),e("/")},className:"bg-green-500 hover:bg-green-400 text-white font-bold py-2 px-4 rounded",children:"Generate Invoice"}):(0,r.jsx)("button",{onClick:()=>{const e=(e=>{const t=s.Yo[n-1];for(let n=0;n<t.children.length;n++){const a=t.children[n],l=null===a||void 0===a?void 0:a.regex;if(l){const t=e[a.name];for(let e=0;e<l.length;e++){let n=l[e];if(console.log(n,null===n||void 0===n?void 0:n.test(t),t),null!==n&&void 0!==n&&n.test(t))return h("Invalid ".concat(a.name)),!1}}}return!0})(i);e&&(c(n+1),h(""))},className:"bg-blue-500 hover:bg-blue-400 text-white font-bold py-2 px-4 rounded",children:"Next"})]})]})]})}}}]);
//# sourceMappingURL=213.2406a5f3.chunk.js.map